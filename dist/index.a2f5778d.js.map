{"mappings":"AACA,MAAMA,EAAYC,SAASC,eAAe,aACpCC,EAAYF,SAASC,eAAe,aACpCE,EAAcH,SAASC,eAAe,eACtCG,EAAOJ,SAASC,eAAe,QAC/BI,EAAUL,SAASC,eAAe,WACxC,IAAIK,EAAON,SAASC,eAAe,uBASpBM,EAAWC,GACxB,IACE,IAAIC,QAAeC,MAAMF,EAAS,CAAEG,KAAM,SAC1C,GAAsB,MAAlBF,EAAOG,OAAgB,CACzB,IAAIC,QAAaJ,EAAOK,OAUxB,OATAC,QAAQC,IAAIH,GASL,CAPK,GAAMA,EAAKI,SAASJ,EAAKK,IAAIC,UAE7B,gBAAmBC,KAAKC,MAAMR,EAAKS,KAAKC,UAExC,eAAkBH,KAAKC,MAAMR,EAAKW,KAAKC,aAEpC,YAAeZ,EAAKa,QAAQ,GAAGJ,SAIlD,MAAOK,GAGL,OAFAZ,QAAQC,IAAIW,GAELA,GA1BX5B,EAAU6B,QAAWC,IACnBA,EAAEC,iBAuDKvB,EADI,qDArDIL,EAqD0D6B,+DAC9CC,MAAKC,IAC9B3B,EAAK4B,UAAYD,EAAS,GAC1B9B,EAAY+B,UAAYD,EAAS,GACjC7B,EAAK8B,UAAYD,EAAS,GAC1B5B,EAAQ6B,UAAYD,EAAS,MAzD/B/B,EAAU6B,MAAQ,IA2BpBI,OAAOC,OAAM,KACXlC,EAAU6B,MAAQ,YAClBhC,EAAUsC,QACVnC,EAAU6B,MAAQ,IAGF/B,SAASC,eAAe,YAE9B2B,QAAO,KACjBU,UAAUC,YAAYC,oBAAmB,SAAUC,OAK5BC,EAAUC,EAAVD,EAJLD,EAASG,OAAOC,SAIDF,EAJWF,EAASG,OAAOE,UAMrDvC,EADI,uDAA0DmC,SAAWC,2DACrDX,MAAKC,IAC9B3B,EAAK4B,UAAYD,EAAS,GAC1B9B,EAAY+B,UAAYD,EAAS,GACjC7B,EAAK8B,UAAYD,EAAS,GAC1B5B,EAAQ6B,UAAYD,EAAS,UAcjC,IAAIc,EAAU/C,SAASC,eAAe,WAClC+C,EAAWhD,SAASC,eAAe,YACnCgD,EAAcjD,SAASC,eAAe,kBACtCiD,EAAUlD,SAASmD,cAAc,QACrCF,EAAYrB,QAAWC,IACrBA,EAAEC,iBACFoB,EAAQE,UAAUC,OAAO,QACzBN,EAAQK,UAAUC,OAAO,UACzBL,EAASI,UAAUC,OAAO","sources":["src/app.ts"],"sourcesContent":["import \"../dist/output.css\"\nconst submitBtn = document.getElementById(\"submitBtn\") as HTMLButtonElement;\nconst searchBar = document.getElementById(\"searchBar\") as HTMLInputElement;\nconst temperature = document.getElementById(\"temperature\") as HTMLParagraphElement;\nconst wind = document.getElementById(\"wind\") as HTMLParagraphElement;\nconst weather = document.getElementById(\"weather\") as HTMLParagraphElement;\nlet city = document.getElementById(\"city\") as HTMLHeadingElement;\nlet data: JSON;\n\nsubmitBtn.onclick = (e) => {\n  e.preventDefault();\n  locationByName(searchBar)\n  searchBar.value = \"\";\n};\n\nasync function getWeather(apiCall: string): Promise<any> {\n  try {\n    let output = await fetch(apiCall, { mode: \"cors\" });\n    if (output.status === 200) {\n      let data = await output.json();\n      console.log(data)\n      // @ts-ignore\n      let dataCity = `${data.name}, ${data.sys.country}`\n      // @ts-ignore\n      let dataTemp = `Temperature: ${Math.floor(data.main.temp)}Â°F`;\n      // @ts-ignore\n      let dataWind = `Wind Speed: ${Math.floor(data.wind.speed)}mp/h`;\n      // @ts-ignore\n      let dataWeather = `Weather: ${data.weather[0].main}`;\n      return [dataCity, dataTemp, dataWind, dataWeather];\n    }\n  }\n  catch (err) {\n    console.log(err)\n    // error function or default location\n    return err;\n  }\n}\n\nwindow.onload = () => {\n  searchBar.value = \"Amsterdam\";\n  submitBtn.click();\n  searchBar.value = \"\";\n}\n\nlet locationBtn = document.getElementById(\"location\") as HTMLButtonElement;\n\nlocationBtn.onclick = () => {\n  navigator.geolocation.getCurrentPosition(function (position) {\n    locationByCords(position.coords.latitude, position.coords.longitude);\n  })\n};\n\nfunction locationByCords(lat: any, long: any) {\n  let apiCall = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&units=imperial&appid=79994613e7af015836a5a0e8225ca668`\n  return getWeather(apiCall).then(Response => {\n    city.innerHTML = Response[0];\n    temperature.innerHTML = Response[1];\n    wind.innerHTML = Response[2];\n    weather.innerHTML = Response[3];\n  })\n}\n\nfunction locationByName(input: HTMLInputElement) {\n  let apiCall = `https://api.openweathermap.org/data/2.5/weather?q=${input.value}&units=imperial&appid=79994613e7af015836a5a0e8225ca668`;\n  return getWeather(apiCall).then(Response => {\n    city.innerHTML = Response[0];\n    temperature.innerHTML = Response[1];\n    wind.innerHTML = Response[2];\n    weather.innerHTML = Response[3];\n  })\n};\n\nlet sunIcon = document.getElementById(\"sunIcon\") as HTMLImageElement;\nlet moonIcon = document.getElementById(\"moonIcon\") as HTMLImageElement;\nlet darkModeBtn = document.getElementById(\"darkModeToggle\") as HTMLButtonElement;\nlet htmlTag = document.querySelector(\"html\") as HTMLElement;\ndarkModeBtn.onclick = (e) => {\n  e.preventDefault();\n  htmlTag.classList.toggle(\"dark\");\n  sunIcon.classList.toggle(\"hidden\");\n  moonIcon.classList.toggle(\"hidden\")\n}"],"names":["$f43313d21d3fd8e2$var$submitBtn","document","getElementById","$f43313d21d3fd8e2$var$searchBar","$f43313d21d3fd8e2$var$temperature","$f43313d21d3fd8e2$var$wind","$f43313d21d3fd8e2$var$weather","$f43313d21d3fd8e2$var$city","$f43313d21d3fd8e2$var$getWeather","apiCall","output","fetch","mode","status","data","json","console","log","name","sys","country","Math","floor","main","temp","wind","speed","weather","err","onclick","e","preventDefault","value","then","Response","innerHTML","window","onload","click","navigator","geolocation","getCurrentPosition","position","lat","long","coords","latitude","longitude","$f43313d21d3fd8e2$var$sunIcon","$f43313d21d3fd8e2$var$moonIcon","$f43313d21d3fd8e2$var$darkModeBtn","$f43313d21d3fd8e2$var$htmlTag","querySelector","classList","toggle"],"version":3,"file":"index.a2f5778d.js.map"}